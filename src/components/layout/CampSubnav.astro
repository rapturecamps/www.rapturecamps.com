---
interface Props {
  campName: string;
  basePath: string;
  activePage: "overview" | "surf" | "rooms" | "food";
  bookingUrl: string;
}

const { campName, basePath, activePage, bookingUrl } = Astro.props;

const tabs = [
  { id: "overview", label: "The Surfcamp", href: basePath },
  { id: "surf", label: "Surf", href: `${basePath}/surf` },
  { id: "rooms", label: "Rooms", href: `${basePath}/rooms` },
  { id: "food", label: "Food", href: `${basePath}/food` },
] as const;
---

<nav id="camp-subnav" class="camp-subnav sticky z-40 bg-dark/95 backdrop-blur-md border-b border-white/5">
  <div class="mx-auto w-full px-6 sm:px-12 lg:px-20">
    <div class="flex h-12 items-center gap-6">
      <div class="flex items-center gap-1 overflow-x-auto no-scrollbar">
        {tabs.map((tab, i) => (
          <a
            href={tab.href}
            class:list={[
              "camp-tab relative whitespace-nowrap pr-4 py-2 text-sm transition-colors rounded-lg flex-shrink-0",
              i === 0 ? "pl-0" : "pl-4",
              activePage === tab.id
                ? "text-white font-medium"
                : "text-white/40 hover:text-white/70",
            ]}
            data-active={activePage === tab.id ? "true" : undefined}
          >
            {tab.label}
            {activePage === tab.id && (
              <span class:list={["absolute bottom-0 right-4 h-0.5 bg-ocean-light rounded-full", i === 0 ? "left-0" : "left-4"]} />
            )}
          </a>
        ))}
      </div>

      <a
        href={bookingUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="book-link hidden sm:inline-block flex-shrink-0 rounded-full bg-white px-5 py-1.5 text-xs font-semibold text-brand-blue hover:bg-white/90 transition-colors"
      >
        Book Now
      </a>
    </div>
  </div>
</nav>

<style>
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>
