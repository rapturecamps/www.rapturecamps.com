---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Hero from "@/components/sections/Hero.astro";
import CampSubnav from "./CampSubnav.astro";

interface Props {
  campName: string;
  countryName: string;
  basePath: string;
  activePage: "overview" | "surf" | "rooms" | "food";
  bookingUrl: string;
  heroImage?: string;
  heroImages?: string[];
  title?: string;
  description?: string;
}

const {
  campName,
  countryName,
  basePath,
  activePage,
  bookingUrl,
  heroImage = "https://images.unsplash.com/photo-1504681869696-d977211a5f4c?w=1920&h=1080&fit=crop",
  heroImages,
  title = `Rapture Surf Camp ${campName} | Rapture Surfcamps`,
  description = `Experience the best surf camp at ${campName}. Daily surf lessons, yoga, delicious food, and unforgettable vibes.`,
} = Astro.props;

const pageLabels: Record<string, string> = {
  overview: "The Surfcamp",
  surf: "Surf",
  rooms: "Rooms",
  food: "Food",
};
const pageLabel = pageLabels[activePage] || "";
const heroTitle = activePage === "overview"
  ? `Rapture Surf Camp\n${campName}`
  : pageLabel;
const heroSubtitle = activePage === "overview"
  ? countryName
  : `Rapture Surf Camp ${campName}`;
---

<BaseLayout title={title} description={description} bookingUrl={bookingUrl}>
  <Hero
    title={heroTitle}
    subtitle={heroSubtitle}
    backgroundImage={heroImage}
    backgroundImages={heroImages}
  />

  <CampSubnav
    campName={campName}
    basePath={basePath}
    activePage={activePage}
    bookingUrl={bookingUrl}
  />

  <slot />
</BaseLayout>
