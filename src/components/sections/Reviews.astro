---
interface Review {
  name: string;
  location?: string;
  text: string;
  rating: number;
}

interface Props {
  heading?: string;
  reviews: Review[];
}

const { heading = "What Our Guests Say", reviews } = Astro.props;
---

<section class="py-10 sm:py-14 bg-dark-lighter">
  <div class="px-6 sm:px-12 lg:px-20">
    <h2 class="text-2xl sm:text-3xl lg:text-4xl font-semibold text-white mb-8">{heading}</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {reviews.map((review) => (
        <div class="rounded-xl bg-dark border border-dark-border p-6 sm:p-8 flex flex-col">
          <div class="flex gap-1 mb-4">
            {Array.from({ length: 5 }).map((_, i) => (
              <svg
                class:list={["h-4 w-4", i < review.rating ? "text-accent" : "text-white/10"]}
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
              </svg>
            ))}
          </div>
          <p class="text-sm text-white/60 leading-relaxed flex-1">"{review.text}"</p>
          <div class="mt-5 pt-4 border-t border-dark-border">
            <p class="text-sm font-medium text-white">{review.name}</p>
            {review.location && (
              <p class="text-xs text-white/30 mt-0.5">{review.location}</p>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
