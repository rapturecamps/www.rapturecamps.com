---
interface Props {
  heading: string;
  body: string;
  image?: string;
  imageAlt?: string;
  reverse?: boolean;
  background?: "dark" | "dark-lighter";
  headingTag?: "h1" | "h2" | "h3" | "h4";
}

const {
  heading,
  body,
  image,
  imageAlt = "",
  reverse = false,
  background = "dark",
  headingTag = "h2",
} = Astro.props;

const HeadingTag = headingTag;

const bgClass = background === "dark-lighter" ? "bg-dark-lighter" : "bg-dark";
---

<section class:list={["py-16 sm:py-20", bgClass]}>
  <div class="px-6 sm:px-12 lg:px-20">
    {image ? (
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-x-16 lg:gap-y-4">
        <HeadingTag
          class:list={[
            "text-2xl sm:text-3xl lg:text-4xl font-semibold text-white",
            "lg:row-start-1 lg:self-end lg:pb-0",
            reverse ? "lg:col-start-2" : "lg:col-start-1",
          ]}
        >{heading}</HeadingTag>

        <div class:list={[
          "relative",
          "lg:row-start-1 lg:row-span-2 lg:self-center",
          reverse ? "lg:col-start-1" : "lg:col-start-2",
        ]}>
          <div class="aspect-[4/3] overflow-hidden rounded-xl">
            <img src={image} alt={imageAlt} class="h-full w-full object-cover" loading="lazy" />
          </div>
        </div>

        <div class:list={[
          "text-base text-white/50 leading-relaxed space-y-4",
          "lg:row-start-2 lg:self-start",
          reverse ? "lg:col-start-2" : "lg:col-start-1",
        ]} set:html={body} />
      </div>
    ) : (
      <div>
        <HeadingTag class="text-2xl sm:text-3xl lg:text-4xl font-semibold text-white mb-6">{heading}</HeadingTag>
        <div class="text-base text-white/50 leading-relaxed space-y-4" set:html={body} />
      </div>
    )}
  </div>
</section>
