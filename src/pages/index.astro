---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Hero from "@/components/sections/Hero.astro";
import DestinationGrid from "@/components/sections/DestinationGrid";
import AboutSection from "@/components/sections/AboutSection.astro";
import BlogFeed from "@/components/sections/BlogFeed";
import StatsSection from "@/components/sections/StatsSection.astro";
import SocialGrid from "@/components/sections/SocialGrid.astro";
import { getHomepage } from "@/lib/sanity-data";

const hp = await getHomepage();
const heroTagline = hp?.heroTagline || "Rapture Surfcamps";
const heroTitle = hp?.heroTitle || "All you have is now.";
const heroSubtitle = hp?.heroSubtitle || "Unparalleled Surf Camp Experience at the Best Surf Spots!";
---

<BaseLayout showWheel>
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Rapture Surfcamps",
    "url": "https://www.rapturecamps.com",
    "logo": "https://www.rapturecamps.com/images/rapturecamps-logo.svg",
    "description": "A network of 8 unique surf camps in 5 countries on 4 continents.",
    "foundingDate": "2003",
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "info@rapturecamps.com",
      "telephone": "+447700177360",
      "availableLanguage": ["English", "German"]
    },
    "sameAs": [
      "https://www.instagram.com/rapturecamps",
      "https://www.facebook.com/rapturecamps",
      "https://www.youtube.com/@rapturecamps",
      "https://www.tiktok.com/@rapturecamps"
    ]
  })} />
  <Hero
    tagline={heroTagline}
    title={heroTitle}
    subtitle={heroSubtitle}
    backgroundVideo="/videos/background-video.mp4"
    titleSize="large"
    fullHeight
  />
  <DestinationGrid client:visible />
  <AboutSection heading={hp?.aboutHeading} subtext={hp?.aboutSubtext} linkText={hp?.aboutLinkText} />
  <BlogFeed client:visible />
  <StatsSection />
  <SocialGrid />
</BaseLayout>
