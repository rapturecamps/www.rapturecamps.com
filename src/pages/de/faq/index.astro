---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Breadcrumbs from "@/components/Breadcrumbs.astro";
import { destinations } from "@/lib/data";
import { getDestinations } from "@/lib/sanity-data";

const camps = await getDestinations();
const campList = camps?.length ? camps : destinations;
---

<BaseLayout
  title="FAQ | Rapture Surfcamps"
  description="Häufig gestellte Fragen zu Rapture Surfcamps. Finde Antworten zu Buchung, Surfunterricht, Zimmern, Verpflegung und mehr."
>
  <div class="pt-32 pb-8 bg-dark">
    <div class="px-6 sm:px-12 lg:px-20">
      <h1 class="font-display text-4xl sm:text-5xl font-bold text-white">Häufig gestellte Fragen</h1>
      <p class="mt-4 text-base sm:text-lg text-white/50 max-w-2xl">Wähle dein Camp, um Antworten zu Buchung, Surfunterricht, Zimmern, Verpflegung und allem Weiteren zu finden.</p>
      <Breadcrumbs inline crumbs={[{ label: "FAQ" }]} />
    </div>
  </div>

  <section class="pb-16 sm:pb-20 bg-dark">
    <div class="px-6 sm:px-12 lg:px-20">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 sm:gap-6">
        {campList.map((camp) => {
          const faqSlug = camp.slug.split("/").pop();
          return (
            <a
              href={`/de/faq/${faqSlug}`}
              class="group relative aspect-[16/10] overflow-hidden rounded-2xl"
            >
              <img
                src={camp.image}
                alt={`FAQ für ${camp.name}`}
                class="absolute inset-0 h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent" />
              <div class="absolute bottom-0 left-0 right-0 p-5 sm:p-6">
                <p class="text-xs uppercase tracking-wider text-white/50 mb-1">{camp.country} — {camp.location}</p>
                <h2 class="text-lg sm:text-xl font-semibold text-white">{camp.name}</h2>
              </div>
            </a>
          );
        })}
      </div>
    </div>
  </section>
</BaseLayout>
